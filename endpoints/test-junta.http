@baseUrl = {{baseUrl}}

### Login first to get token
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
    "email": "admin@admin.com",
    "password": "123123"
}

@authToken = {{login.response.body.access_token}}

### Junta Management Endpoints

### Create a new junta
# @name createJunta
POST {{baseUrl}}/juntas
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "name": "Primera Junta",
  "description": "Junta inicial para pruebas",
  "fecha_inicio": "2024-01-01"
}

@newJuntaId = {{createJunta.response.body.id}}

### Get all juntas
GET {{baseUrl}}/juntas
Authorization: Bearer {{authToken}}

### Get specific junta
GET {{baseUrl}}/juntas/{{juntaId}}
Authorization: Bearer {{authToken}}

### Get all members of a junta
GET {{baseUrl}}/members/junta/{{juntaId}}
Authorization: Bearer {{authToken}}

### Get capital social for a junta
GET {{baseUrl}}/capital/social/junta/{{juntaId}}
Authorization: Bearer {{authToken}}

### Create capital social
POST {{baseUrl}}/capital/social
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "amount": 10000,
  "juntaId": "{{juntaId}}"
}

### Variables for testing
@juntaId = {{newJuntaId}} # Uses the ID from createJunta response, or replace with your junta ID
